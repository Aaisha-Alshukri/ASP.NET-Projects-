@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}


@model ListApplication.Models.ListApp
@{
    var categories = ViewBag.Categories as List<ListApplication.Models.Category>;
}

<h2>Edit Task</h2>

<form method="post" asp-action="Edit">
    <input type="hidden" name="ListAppId" value="@Model.ListAppId" />

    <label>Task Name:</label><br />
    <input type="text" name="Name" value="@Model.Name" required /><br /><br />

    <label>Description:</label><br />
    <textarea name="Description">@Model.Description</textarea><br /><br />

    <label>Deadline:</label><br />
    <input type="date" name="DeadLine" value="@Model.DeadLine" /><br /><br />
    <label>Priority:</label><br />
    <select name="Priority">
        @foreach (var priority in new[] { "Low", "Medium", "High" })
        {
            <option value="@priority" selected="@(Model.Priority == priority ? "selected" : null)">
                @priority
            </option>
        }
    </select><br /><br />

    <label>Is Finished:</label><br />
    <input type="checkbox" name="IsFinished" value="true" @(Model.IsFinished ? "checked" : "") /><br /><br />

    <label>Category:</label><br />
    <select name="CategoryId">
        @foreach (var cat in categories)
        {
            <option value="@cat.CategoryId" selected="@(Model.CategoryId == cat.CategoryId ? "selected" : null)">
                @cat.CategoryName
            </option>
        }
    </select><br /><br />

    <button type="submit">Save</button>
</form>

<a href="/ListApp">Back to List</a>